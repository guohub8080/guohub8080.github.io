export const title = "简介"

# {title}

TonicML 是一种基于纯文本、逐行书写的音乐标记语言。它旨在为作曲家、开发者和音乐爱好者提供一种快速、清晰、适合转化为AI友好数据格式的乐谱记录方式。

## 命名释义

**TonicML**: **T**ext-based **O**bject **N**otation for **I**nterchange & **C**omputation **M**arkup  **L**anguage

> 在音乐中，Tonic (主音)是一个调性的“引力中心”和“参照系”。所有旋律与和声的意义，最终都通过与主音的关系来定义。TonicML 以此为名，寓意它为复杂的音乐信息提供了一个稳定、可靠的结构化“锚点”。

 **T**ext-based **O**bject **N**otation (基于文本的对象表示法)：这是一个核心的技术定位。它将 TonicML 与 `JSON` (JavaScript Object Notation) 等成熟的数据交换格式对标，表明它是一种为机器和开发者设计的、结构清晰的文本数据格式。“对象表示法”也解释了其“文字基准”和“语法简单”的特性。

**I**nterchange & **C**omputation (交换与计算)明确了 TonicML 的两大核心目标：

 - Interchange (交换): 成为一种可靠、通用的音乐数据交换格式。
 - Computation (计算): 其最终目的是为了让计算机（尤其是AI模型）能够高效地进行分析、处理和生成。

**M**arkup **L**anguage (标记语言)：这是 TonicML 的目标，即一种既适合人类阅读、又适合计算机处理的、结构化的音乐信息标记方式。

## 项目动机

在人工智能时代，音乐的创作、分析与学习迎来了前所未有的机遇。AI 不仅可以辅助生成音乐，更有潜力成为每一位音乐学习者的私人导师。让我们从一个常见的应用场景出发：如何向AI提问音乐？

至少在目前，我们还不能直接将一段音频（如MP3）交给AI，并期望它能理解"第X分Y秒的和弦是什么"这类基于乐理的问题。因此，任何有深度的讨论都必须回到可被解析的**乐谱**。

现在，假设您希望AI分析一段旋律并提问："我这里的和弦进行是否合理？"

您的可选路径存在的问题如：

- **用截图提问？** 这显然不能够。图像缺乏AI进行严肃分析所必需的结构化数据。
- **追求精确，转而使用MusicXML？** 这意味着需要打开打谱软件，将乐谱完整输入后导出文件。这个流程本身就已相当耗时。如果手头只有一份网上找到的简谱，那么如何将其转换为MusicXML，又是一个不大不小却非常现实的难题。整个工作流的**时间成本较高**。

即便我们克服了流程障碍，获得了MusicXML文件并将其转换为AI更偏好的JSON格式，但还是存在以下问题：

- **语义碎片化问题**：MusicXML将完整的音乐概念分解为原子化标签。例如，一个简单的"延音线"需要通过多个`<tie>`、`<slur>`标签的复杂组合才能表达，AI必须重新组装这些语义碎片才能理解音乐含义。这种设计增加了AI理解的认知负担。
- **结构隐含性问题**：音乐的天然层次结构（段落→乐句→小节→音符）在MusicXML中是隐式存在的，需要AI通过复杂的推理和遍历才能重构出音乐的结构关系。这与AI处理数据时"结构明确"的基本需求不是。
- **信息噪音干扰**：MusicXML作为数字乐谱存储格式，必须承担排版渲染的责任，因此包含大量AI不关心的视觉技术细节——字体、颜色、坐标位置等排版信息。这些"噪音"会显著干扰AI对音乐本质内容的理解和分析。

最后，我们可能会想："好吧，那我们不用MusicXML，直接手写一个JSON？" 但编写复杂、严谨的JSON本身就需要相当的编程技能。**让音乐创作者去做程序员的工作，这本身就是一个错误的前提。**

JSON本身就需要相当的编程技能。**让音乐创作者去做程序员的工作，这本身就是一个错误的前提。**

我们需要一个全新的解决方案，它必须同时满足：

- 能够让创作者以极低的成本输入，最好不依赖任何软件，只要一个记事本就可以开始工作；
- 能又轻松转化为AI能理解的语义清晰、结构明确、无噪音的数据格式；
- 兼容性强，可以轻松导出为MusicXML或MIDI格式。

这，正是TonicML的核心设计动机。

## 示例文件

我们以一个简单的乐谱为例，展示TonicML的语法：

```json
{
  "title": "小星星",
  "composer": "无名氏",
  "key": "C",
  "time": "4/4",
  "tempo": 120
}
```

## 核心理念

- **清晰可读 (Human-Readable)**: 语法设计直观，无需工具即可读写。
- **版本控制友好 (Version-Control Friendly)**: 基于行的纯文本格式，完美适配 Git 等工具。
- **易于解析 (Machine-Parseable)**: 拥有明确且无歧义的规则，便于程序化处理。
- **高度可扩展 (Extensible)**: 通过功能标记系统，可以灵活添加新功能。

## 与其他记谱法的对比

### 相比于ABC记谱法

**ABC记谱法**主要专注于基础的音符和节奏表示，语义标记相对简单，主要通过字母标记来表示装饰音、力度等，基于西方音乐理论构建，对简谱数字记谱支持有限，缺乏对中文音乐习惯的原生支持，语法相对简洁但功能有限，扩展性不强。

**TonicML**作为专注于音乐结构和内容表达的记谱语言，完全不涉及排版和装饰性元素，提供多层次语义标记体系，包括`@score{}`、`@part{}`、`@section{}`、`@phine{}`、`@measure{}`等分层注释，以及`annotations`结构化语义信息，原生支持简谱数字（1-7）与国际音名（C-B）双体系，提供`1=C`这样的简谱别名语法，更符合中文音乐教育习惯，在保持简洁的同时提供更强的表达能力，支持复杂的音乐结构标记，特别适合现代AI音乐分析和处理应用。

### 相比于LilyPond

**LilyPond**追求专业级的乐谱排版和印刷质量，语法复杂但输出精美，需要掌握复杂的排版命令和布局语法，学习曲线陡峭，适合需要高质量印刷输出的专业乐谱制作，主要关注视觉呈现，语义标记相对较少，编译产物主要是PDF等印刷格式。

**TonicML**采用截然不同的设计理念，专门关注音乐内容的结构化表达，完全不处理排版、字体、布局等视觉呈现要素，语法设计以直观易懂为原则，降低学习门槛，专门针对AI音乐分析、算法作曲、快速原型制作等现代音乐应用场景，提供丰富的语义标记系统，包括功能和声分析、结构注释，编译产物为语义丰富的tmlj格式，天然适配AI处理。

### 相比于MusicXML

**MusicXML**作为国际标准音乐交换格式，其语法冗长复杂，如表达一个音符需要多层嵌套标签`<note><pitch><step>C</step><octave>4</octave></pitch><duration>4</duration></note>`，完全面向程序化处理，普通音乐家难以直接读写，虽然功能全面但缺乏明确的语义作用域概念，注释和标记的影响范围模糊，主要用于不同音乐软件间的数据交换和存储，虽然可转换为JSON格式但仍包含大量视觉排版信息，语义层级扁平。

**TonicML**基于纯文本内容导向的设计哲学，完全剥离排版和装饰信息，极简表达，同样的音符仅需`4`或`C`，人类可读性强，音乐家可以直接编写和理解，每个注释都有明确的`scope`属性（global、part、measure、element），语义边界清晰，原生设计为AI友好，tmlj格式直接提供结构化的音乐语义信息，无需额外处理，专注于音乐创作、AI训练、智能分析和快速原型开发，同时可编译输出为MusicXML格式，既保持简洁性又确保与现有生态的兼容性。

需要说明的是，TonicML并非旨在替代任何现有的音乐记谱格式，而是在特定应用领域为音乐技术生态提供一些有益的补充。